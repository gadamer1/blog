{"ast":null,"code":"import produce from \"immer\";\nimport { LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAILURE, SIGN_UP_SUCCESS, SIGN_UP_FAILURE, SIGN_UP_REQUEST, LOAD_USER_REQUEST, LOAD_USER_SUCCESS, LOAD_USER_FAILURE, LOG_OUT_REQUEST, LOG_OUT_SUCCESS, LOG_OUT_FAILURE } from \"./actions\";\n\n/*INITIAL STATE */\nvar initialState = {\n  user: null,\n  loadingStates: {\n    isLoging: false,\n    isSigning: false,\n    isLogouting: false\n  },\n  metaStates: {\n    isLoggedIn: false,\n    loginStautsCode: 0,\n    signUpStatusCode: 0\n  }\n};\nvar mockUser = {\n  nickname: \"gadamer\",\n  emailVerified: false\n};\nexport default (function () {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    switch (action.type) {\n      case LOGIN_REQUEST:\n        {\n          draft.loadingStates.isLoging = true;\n          break;\n        }\n\n      case LOGIN_SUCCESS:\n        {\n          draft.loadingStates.isLoging = false;\n          draft.metaStates.loginStautsCode = 200;\n          draft.metaStates.isLoggedIn = true;\n          draft.user = action.result.user;\n          break;\n        }\n\n      case LOGIN_FAILURE:\n        {\n          draft.loadingStates.isLoging = false;\n          draft.metaStates.loginStautsCode = action.errorCode;\n          draft.metaStates.isLoggedIn = false;\n        }\n\n      case SIGN_UP_REQUEST:\n        {\n          draft.loadingStates.isSigning = true;\n          break;\n        }\n\n      case SIGN_UP_SUCCESS:\n        {\n          draft.loadingStates.isSigning = false;\n          draft.user = action.result.user;\n          draft.metaStates.isLoggedIn = true;\n          break;\n        }\n\n      case SIGN_UP_FAILURE:\n        {\n          draft.loadingStates.isSigning = false;\n          draft.metaStates.signUpStatusCode = action.errorCode;\n          draft.metaStates.isLoggedIn = false;\n          break;\n        }\n      // 로그아웃\n\n      case LOG_OUT_REQUEST:\n        {\n          draft.loadingStates.isLogouting = true;\n        }\n\n      case LOG_OUT_SUCCESS:\n        {\n          draft.user = null;\n          draft.loadingStates.isLogouting = false;\n          draft.metaStates.isLoggedIn = false;\n        }\n\n      case LOG_OUT_FAILURE:\n        {\n          draft.loadingStates.isLogouting = false;\n        }\n      // 회원정보 가져오기\n\n      case LOAD_USER_REQUEST:\n        {\n          break;\n        }\n\n      case LOAD_USER_SUCCESS:\n        {\n          draft.user = action.result.user;\n          draft.metaStates.isLoggedIn = true;\n          break;\n        }\n\n      case LOAD_USER_FAILURE:\n        {\n          draft.metaStates.isLoggedIn = false;\n          draft.user = null;\n          break;\n        }\n\n      default:\n        {\n          break;\n        }\n    }\n  });\n});","map":null,"metadata":{},"sourceType":"module"}