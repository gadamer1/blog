{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.ae863bd83094923f7331.hot-update.js","sources":["webpack:///./reducers/user/index.ts"],"sourcesContent":["import produce from \"immer\";\r\nimport {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCESS,\r\n  LOGIN_FAILURE,\r\n  SIGN_UP_SUCCESS,\r\n  SIGN_UP_FAILURE,\r\n  SIGN_UP_REQUEST,\r\n  LOAD_USER_REQUEST,\r\n  LOAD_USER_SUCCESS,\r\n  LOAD_USER_FAILURE,\r\n  LOG_OUT_REQUEST,\r\n  LOG_OUT_SUCCESS,\r\n  LOG_OUT_FAILURE,\r\n  GET_USER_BY_NICKNAME_REQUEST,\r\n  GET_USER_BY_NICKNAME_SUCCESS,\r\n  GET_USER_BY_NICKNAME_FAILURE\r\n} from \"./actions\";\r\nimport { userActions, userStore } from \"./interfaces\";\r\n\r\n/*INITIAL STATE */\r\nconst initialState: userStore = {\r\n  me: null,\r\n  userInfo: null,\r\n  loadingStates: {\r\n    isLoging: false,\r\n    isSigning: false,\r\n    isLogouting: false,\r\n    isLoadingUser: false\r\n  },\r\n  metaStates: {\r\n    isLoggedIn: false,\r\n    loginStautsCode: 0,\r\n    signUpStatusCode: 0\r\n  }\r\n};\r\n\r\nconst mockUser = {\r\n  nickname: \"gadamer\",\r\n  emailVerified: false\r\n};\r\n\r\nexport default (state = initialState, action: userActions) => {\r\n  return produce(state, draft => {\r\n    switch (action.type) {\r\n      case LOGIN_REQUEST: {\r\n        draft.loadingStates.isLoging = true;\r\n        break;\r\n      }\r\n      case LOGIN_SUCCESS: {\r\n        draft.loadingStates.isLoging = false;\r\n        draft.metaStates.loginStautsCode = 200;\r\n        draft.metaStates.isLoggedIn = true;\r\n        draft.me = action.result.user;\r\n        break;\r\n      }\r\n      case LOGIN_FAILURE: {\r\n        draft.loadingStates.isLoging = false;\r\n        draft.metaStates.loginStautsCode = action.errorCode;\r\n      }\r\n      case SIGN_UP_REQUEST: {\r\n        draft.loadingStates.isSigning = true;\r\n        break;\r\n      }\r\n      case SIGN_UP_SUCCESS: {\r\n        draft.loadingStates.isSigning = false;\r\n        draft.me = action.result.user;\r\n        draft.metaStates.isLoggedIn = true;\r\n        break;\r\n      }\r\n      case SIGN_UP_FAILURE: {\r\n        draft.loadingStates.isSigning = false;\r\n        draft.metaStates.signUpStatusCode = action.errorCode;\r\n        break;\r\n      }\r\n      // 로그아웃\r\n      case LOG_OUT_REQUEST: {\r\n        draft.loadingStates.isLogouting = true;\r\n      }\r\n      case LOG_OUT_SUCCESS: {\r\n        draft.me = null;\r\n        draft.loadingStates.isLogouting = false;\r\n        draft.metaStates.isLoggedIn = false;\r\n      }\r\n      case LOG_OUT_FAILURE: {\r\n        draft.loadingStates.isLogouting = false;\r\n      }\r\n\r\n      // 회원정보 가져오기\r\n\r\n      case LOAD_USER_REQUEST: {\r\n        break;\r\n      }\r\n      case LOAD_USER_SUCCESS: {\r\n        draft.me = action.result.user;\r\n\r\n        draft.metaStates.isLoggedIn = true;\r\n        break;\r\n      }\r\n      case LOAD_USER_FAILURE: {\r\n        draft.metaStates.isLoggedIn = false;\r\n        draft.me = null;\r\n        break;\r\n      }\r\n\r\n      case GET_USER_BY_NICKNAME_REQUEST: {\r\n        draft.loadingStates.isLoadingUser = true;\r\n      }\r\n      case GET_USER_BY_NICKNAME_SUCCESS: {\r\n        draft.loadingStates.isLoadingUser = false;\r\n        // @ts-ignore\r\n        draft.userInfo = action.result;\r\n      }\r\n      case GET_USER_BY_NICKNAME_FAILURE: {\r\n        draft.loadingStates.isLoadingUser = false;\r\n      }\r\n\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  });\r\n};\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAHA;AATA;AAgBA;AACA;AACA;AAFA;AAKA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AA3EA;AA6EA;AACA;;;;A","sourceRoot":""}